Процедура ЗаписатьБракИзПриложения(ОписаниеБрака) Экспорт
    
    НовыйАкт = Документы.АктОБраке.СоздатьДокумент();
    
    // Заполнение шапки
    НовыйАкт.Дата = Дата(ОписаниеБрака.Дата);
    НовыйАкт.ЭтапПроизводства = Документы.ВыполениеЭтапаПроизводства.НайтиПоНомеру(ОписаниеБрака.ЭтапПроизводства);
    НовыйАкт.Изделие = Справочники.Номенклатура.НайтиПоКоду(ОписаниеБрака.Изделие);
    НовыйАкт.КоличествоБрака = Число(ОписаниеБрака.КоличествоБрака);
    НовыйАкт.ПричинаБрака = ОписаниеБрака.Причина;
    НовыйАкт.Бригада = Справочники.Рабочая_бригада.НайтиПоКоду(ОписаниеБрака.Бригада);
    
    // Сохранение фотографий
    Для Каждого ФотоИзМассива Из ОписаниеБрака.Фото Цикл
        // ВАЖНО: табличная часть называется "ФотоБрака", а не "Фото"
        СтрокаФото = НовыйАкт.ФотоБрака.Добавить();  // <- исправлено!
        СтрокаФото.Изображение = "";  // если есть такое поле
        СтрокаФото.Комментарий = Строка(ФотоИзМассива.Комментарий);
    КонецЦикла;
    
    НовыйАкт.Записать();
    
КонецПроцедуры